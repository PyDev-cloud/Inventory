{% extends "../navbar.html" %}
{% load static %}
{% block content %}
<div class="container">
    <h1 class="my-4">Inventory Dashboard555</h1>

    <!-- Sales and Purchase Summary Section -->
    <div class="row dashboard-section">
        <div class="col-md-4">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Total Sales</h5>
                    <p class="card-text">{{ total_sales }}</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Total Purchases</h5>
                    <p class="card-text">{{ total_purchases }}</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Total Profit</h5>
                    <p class="card-text">{{ total_profit }}</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Daily Sales, Purchases, and Invoices Section -->
    <div class="row dashboard-section">
        <div class="col-md-4">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Daily Sales Total</h5>
                    <p class="card-text">{{ daily_sales_total }}</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Daily Purchases Total</h5>
                    <p class="card-text">{{ daily_purchases_total }}</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Total Due Invoices</h5>
                    <p class="card-text">{{ daily_invoices_due }}</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Daily Sales List -->
    <div class="dashboard-section">
        <h3>Daily Sales List</h3>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Product</th>
                    <th>Quantity Sold</th>
                    <th>Total Sales</th>
                </tr>
            </thead>
            <tbody>
                {% for sale in daily_sales %}
                <tr>
                    <td>{{ sale.product.name }}</td>
                    <td>{{ sale.quantity }}</td>
                    <td>{{ sale.total_amount }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <!-- Daily Purchases List -->
    <div class="dashboard-section">
        <h3>Daily Purchases List</h3>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Product</th>
                    <th>Quantity Purchased</th>
                    <th>Total Purchase</th>
                </tr>
            </thead>
            <tbody>
                {% for purchase in daily_purchases %}
                <tr>
                    <td>{{ purchase.product.name }}</td>
                    <td>{{ purchase.quantity }}</td>
                    <td>{{ purchase.total_amount }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <!-- Daily Invoices List -->
    <div class="dashboard-section">
        <h3>Daily Invoices List</h3>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Invoice Number</th>
                    <th>Product</th>
                    <th>Amount Due</th>
                </tr>
            </thead>
            <tbody>
                {% for invoice in daily_invoices %}
                <tr>
                    <td>{{ invoice.invoice_number }}</td>
                    <td>{{ invoice.sale.product.name }}</td>
                    <td>{{ invoice.amount_due }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

</div> 
{% endblock content %}